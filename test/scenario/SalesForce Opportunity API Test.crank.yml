scenario: SalesForce Opportunity Test
description: This test the Opportunity creation and validation of field in SalesForce.

tokens:
  test:
    name: TestOnly
    closedate: 2020-09-08
    leadsource: Other
    stagename: Unknown
    probability: 20

steps:
- step: Create a salesforce opportunity
  data:
    opportunity:
       Name: '{{test.name}}'
       CloseDate: '{{test.closedate}}'
       LeadSource: '{{test.leadsource}}'
       StageName: '{{test.stagename}}'
       Probability: '{{test.probability}}'

- waitFor: 60
  step: Validate that the Name field on salesforce opportunity with Name {{test.name}} should be {{test.name}}
- step: Validate that the StageName field on salesforce opportunity with Name {{test.name}} should be {{test.stagename}}
- step: Validate that the CloseDate field on salesforce opportunity with Name {{test.name}} should be {{test.closedate}}
- step: Validate that the LeadSource field on salesforce opportunity with Name {{test.name}} should be {{test.leadsource}}
- step: Validate that the Probability field on salesforce opportunity with Name {{test.name}} should be {{test.probability}}
- step: Delete the salesforce opportunity with Name {{test.name}}
